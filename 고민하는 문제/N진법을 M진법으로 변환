

#include <stdio.h>
int NtoDec(int b,int n){
    int num=0, a=1;
    int cnt=1, i;
    
    for(i=0; ; i++){
        n/=10;
        if(n>=10)
            cnt++;
        if(n<10){
            cnt++;
            break;
        }
    }
    
    for(i=0; i<cnt; i++){
        num+=a*(n%10);
        n/=10;
        a*=b;
    }
    return num;
}

int DectoM(int num, int M){
    int arr[100]={0,}, cnt=0;
    int ans=0, b=1, x=1, i;
    
    for(i=0; ; i++){
        arr[i] = num%M;
        num = num/M;
        cnt++;
        if(num<M){
            arr[i+1] = num;
            cnt++;
            break;
        }
    }
    
    for(i=0; i<cnt; i++){
        ans+=arr[i]*b;
        b*=10;
    }
    return ans;
}

int main(){
    int number, bin, ans, res, M;
    scanf("%d", &number);
    scanf("%d %d", &bin, &M);
    ans = NtoDec(bin,number);
    printf("%d\n", ans);
    res = DectoM(ans,M);
    printf("%d", res);
}
